exit
last_request
exit
last_request
exit
last_request
last_response
params
exit
exitexit
last_response
puts params.merge(parsed_body)
parsed_body
params
exit
params
last_response
last_response.body
exit
last_response.body
last_response
last_request
last_request.query_string
last_request.QUERY_STRING
last_request
request
rack.request.query_hash
last_request
last_response
last_response.body.read
last_response.body
last_response
last_request.query_string
last_request.query_hash
last_request
params
parsed_body
last_request
last_request.body.read
response
exit
last_request.body.read
last_request.body.read == expected_response
last_request.body.read
post '/webhooks/event', "{:from=>\"447700900000\", :to=>\"447700900000\", :uuid=>\"a123456789012345fbdsw\", :conversation_uui...3-22345\", :status=>\"ringing\", :direction=>\"inbound\", :timestamp=>\"2020-01-07T11:24:49.478Z\"}"
response
last_request.body.read
expected_response
last_request.body.read == expected_response
expected_response
    expected_response = "{:from=>\"447700900000\", :to=>\"447700900000\", :uuid=>\"a123456789012345fbdsw\", :conversation_uui...3-22345\", :status=>\"ringing\", :direction=>\"inbound\", :timestamp=>\"2020-01-07T11:24:49.478Z\"}"
last_request.body.read
response
response =     post '/webhooks/event', "{:from=>\"447700900000\", :to=>\"447700900000\", :uuid=>\"a123456789012345fbdsw\", :conversation_uui...3-22345\", :status=>\"ringing\", :direction=>\"inbound\", :timestamp=>\"2020-01-07T11:24:49.478Z\"}"
response
last_request.body.read
last_request.body
last_request
exit
last_request
last_request.content_type = 'application/json'
last_request.content_type
last_request.body = 'hi'
last_request.body.read
last_request.body
last_request
request.body
request
exit
last_response.body
last_response.body.read
last_response.body = [{from: '447700900000', to: '447700900000', uuid: 'a123456789012345fbdsw', conversation_uuid: 'CON-234567-fdsfs34-vfddfh-btger3-22345', status: 'ringing', direction: 'inbound', timestamp: '2020-01-07T11:24:49.478Z'}]
last_response.body.read
last_response.body
last_response.body = 'hi'
last_response.body
post '/webhooks/event1'
last_response.body
last_response
request.body.read
request
post '/webhooks/event'
request.body
request
req
exit
response.body
response.body = ['from=447700900000&to=447700900000&uuid=a123456789012345fbdsw&conversation_uuid=CON-234567-fdsfs34-vfddfh-btger3-22345&status=ringing&direction=inbound&timestamp=2020-01-07T11:24:49.478Z']
exit
response.body
response.body = ['from: 447700900000', 'to: 447700900000', 'uuid: a123456789012345fbdsw', 'conversation_uuid: CON-234567-fdsfs34-vfddfh-btger3-22345', 'status: ringing', 'direction: inbound', 'timestamp: 2020-01-07T11:24:49.478Z']
exit
response.body
response.body = { from: '447700900000', to: '447700900000', uuid: 'a123456789012345fbdsw', conversation_uuid: 'CON-234567-fdsfs34-vfddfh-btger3-22345', status: 'ringing', direction: 'inbound', timestamp: '2020-01-07T11:24:49.478Z' }.to_a
response.body
response.body = { from: '447700900000', to: '447700900000', uuid: 'a123456789012345fbdsw', conversation_uuid: 'CON-234567-fdsfs34-vfddfh-btger3-22345', status: 'ringing', direction: 'inbound', timestamp: '2020-01-07T11:24:49.478Z' }.to_s
response.body.to_s
response.body
response.body = { from: '447700900000', to: '447700900000', uuid: 'a123456789012345fbdsw', conversation_uuid: 'CON-234567-fdsfs34-vfddfh-btger3-22345', status: 'ringing', direction: 'inbound', timestamp: '2020-01-07T11:24:49.478Z' }
response.body
response
exit
response
response.body
response.bod
exit
JSON.parse(response.body)
response.body
response.body.parse
response.errors
response
response.body.read
response.body
    response.body = "{\"from\":\"447700900000\",\"to\":\"447700900000\",\"uuid\":\"a123456789012345fbdsw\",\"conversation_uuid\":\"CON-234567-fdsfs34-vfddfh-btger3-22345\",\"status\":\"ringing\",\"direction\":\"inbound\",\"timestamp\":\"2020-01-07T11:24:49.478Z\"}"
exit
last_response
last_response.body
post '/webhooks/event', JSON.parse(expected_response)
expected_response
exit
last_response
last_response.body
expected_response
exit
last_response.body = 'hi'
last_response.body
last_response
data
exit
